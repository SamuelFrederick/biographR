[{"path":"https://samuelfrederick.github.io/biographR/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 biographR authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://samuelfrederick.github.io/biographR/articles/get_bio.html","id":"unstructured-biographical-text","dir":"Articles","previous_headings":"","what":"Unstructured Biographical Text","title":"get_bio","text":"often work unstructured text want extract specific structured data text. read text extract desired information manually; however, time-consuming infeasible larger numbers texts. function [get_bio()] allows us extract desired data unstructured texts using ChatGPT API. don’t API Key ChatGPT, create one OpenAI attempting use package. simplicity, can save API key .Renviron (Note: function [usethis::edit_r_environ()] may prove helpful ). example, can scrape biography actor Adam Driver Wikipedia using rvest package.","code":"if(rlang::is_installed(\"rvest\")) {   driver_bio <- rvest::read_html(\"https://en.wikipedia.org/wiki/Adam_Driver\")|>      rvest::html_elements(xpath = \"//h2/span[@id='Early_life']/parent::*/following-sibling::*\")   driver_bio <- paste(rvest::html_text2(driver_bio[2:5]), collapse = \" \")   driver_bio } else{   driver_bio <- \"Driver was born on November 19, 1983,[5] in San Diego, California,[6] the son of Nancy Wright (née Needham), a paralegal, and Joe Douglas Driver.[7][8] Director Terry Gilliam has claimed that Driver has Native American ancestry,[9] though Driver has no known Native American ancestors. His father's family is from Arkansas, and his mother's family is from Indiana. His stepfather, Rodney G. Wright, is a minister at a Baptist church.[10][11] When Driver was seven years old, he moved with his older sister and mother to his mother's hometown Mishawaka, Indiana, where he graduated from Mishawaka High School in 2001.[12][13] Driver was raised Baptist, and sang in the choir at church.[14] Driver has described his teenage self as a \\\"misfit\\\"; he told M Magazine that he climbed radio towers, set objects on fire, and co-founded a fight club with friends, inspired by the 1999 film Fight Club.[15] After high school, he worked as a door-to-door salesman selling Kirby vacuum cleaners and as a telemarketer for a basement waterproofing company and Ben Franklin Construction.[16] He applied to the Juilliard School for drama but was not accepted.[17] Shortly after the September 11 attacks, Driver enlisted in the United States Marine Corps.[5] He was assigned to Weapons Company, 1st Battalion, 1st Marines as an 81mm mortar man.[18] He served for two years and eight months before fracturing his sternum while mountain biking.[19] He was medically discharged with the rank of Lance Corporal. Subsequently, Driver attended the University of Indianapolis for a year before auditioning again for Juilliard, this time succeeding. He got the news he was accepted while at work at the Target Distribution Center in Indianapolis. Driver has said that his classmates saw him as an intimidating and volatile figure, and he struggled to fit into a lifestyle so different from the Marines.[15] He was a member of the Drama Division's Group 38 from 2005 to 2009, where he met his future wife, Joanne Tucker. He graduated with a Bachelor of Fine Arts in 2009.[20]\" } #> [1] \"Driver was born on November 19, 1983,[5] in San Diego, California,[6] the son of Nancy Wright (née Needham), a paralegal, and Joe Douglas Driver.[7][8] Director Terry Gilliam has claimed that Driver has Native American ancestry,[9] though Driver has no known Native American ancestors. His father's family is from Arkansas, and his mother's family is from Indiana. His stepfather, Rodney G. Wright, is a minister at a Baptist church.[10][11] When Driver was seven years old, he moved with his older sister and mother to his mother's hometown Mishawaka, Indiana, where he graduated from Mishawaka High School in 2001.[12][13] Driver was raised Baptist, and sang in the choir at church.[14] Driver has described his teenage self as a \\\"misfit\\\"; he told M Magazine that he climbed radio towers, set objects on fire, and co-founded a fight club with friends, inspired by the 1999 film Fight Club.[15] After high school, he worked as a door-to-door salesman selling Kirby vacuum cleaners and as a telemarketer for a basement waterproofing company and Ben Franklin Construction.[16] He applied to the Juilliard School for drama but was not accepted.[17] Shortly after the September 11 attacks, Driver enlisted in the United States Marine Corps.[5] He was assigned to Weapons Company, 1st Battalion, 1st Marines as an 81mm mortar man.[18] He served for two years and eight months before fracturing his sternum while mountain biking.[19] He was medically discharged with the rank of Lance Corporal. Subsequently, Driver attended the University of Indianapolis for a year before auditioning again for Juilliard, this time succeeding. He got the news he was accepted while at work at the Target Distribution Center in Indianapolis. Driver has said that his classmates saw him as an intimidating and volatile figure, and he struggled to fit into a lifestyle so different from the Marines.[15] He was a member of the Drama Division's Group 38 from 2005 to 2009, where he met his future wife, Joanne Tucker. He graduated with a Bachelor of Fine Arts in 2009.[20]\""},{"path":"https://samuelfrederick.github.io/biographR/articles/get_bio.html","id":"using-get_bio-to-extract-data","dir":"Articles","previous_headings":"","what":"Using get_bio() to extract data","title":"get_bio","text":"Now real example unstructured biography, can decide information want extract text. practice, ’s helpful read sample unstructured texts find type information tends included texts create gold standard set information check ChatGPT output. Adam Driver biography Wikipedia contains variety information might interesting potential study (date birth, place birth, college, military experience, marriage, etc.). use [get_bio()] function call ChatGPT’s API extract information. put desired information fields prompt_fields argument character vector. names prompt_fields informative (people reading fields able understand specific information want field contain). don’t pass information prompt_fields argument, function returns default biographical fields: birth_date, highest_level_of_education, college, graduate_school, previous_occupation, gender, town_of_birth, state_of_birth, married, number_of_children. certain fields, might want information returned specific format (e.g., dates MM/DD/YYYY format); can pass information prompt_fields_format argument named list names corresponding values prompt_fields. Finally, might want restrict certain fields take certain values: prompt_fields_values argument allows us pass information named list vectors acceptable values field vector.","code":"get_bio(bio = driver_bio,         bio_name = \"Adam Driver\",         prompt_fields = c(\"birth_date\", \"town_of_birth\", \"state_of_birth\",                           \"college\", \"religion\", \"military_experience\",                           \"married\"),         prompt_fields_format = list(birth_date = \"{MM}/{DD}/{YYYY}\",                                     college = \"{SCHOOL} - {YEAR} - {DEGREE}\"),         prompt_fields_values = list(military_experience = c(\"Yes\", \"No\"),                                     married = c(\"Yes\", \"No\"))) #> # A tibble: 1 × 7 #>   birth_date town_of_birth state_of_birth college   religion military_experience #>   <chr>      <chr>         <chr>          <chr>     <chr>    <chr>               #> 1 11/19/1983 San Diego     California     Universi… Baptist  Yes                 #> # ℹ 1 more variable: married <chr>"},{"path":"https://samuelfrederick.github.io/biographR/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Samuel Frederick. Author, maintainer.","code":""},{"path":"https://samuelfrederick.github.io/biographR/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Frederick S (2024). “biographR: Extracting Biographical Data Unstructured Text.” R package version 0.0.0.9000, https://github.com/SamuelFrederick/biographR.","code":"@Misc{,   title = {biographR: Extracting Biographical Data from Unstructured Text},   author = {Samuel Frederick},   year = {2024},   note = {R package version 0.0.0.9000},   url = {https://github.com/SamuelFrederick/biographR}, }"},{"path":"https://samuelfrederick.github.io/biographR/index.html","id":"biographr","dir":"","previous_headings":"","what":"Extract Biographical Data From Unstructured Text","title":"Extract Biographical Data From Unstructured Text","text":"biographR package designed help extract structured biographical data unstructured text using ChatGPT’s API.","code":""},{"path":"https://samuelfrederick.github.io/biographR/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Extract Biographical Data From Unstructured Text","text":"can install latest version biographR using following code:","code":"remotes::install_github(\"SamuelFrederick/biographR\")"},{"path":"https://samuelfrederick.github.io/biographR/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Extract Biographical Data From Unstructured Text","text":"Say biography individual named John Smith. biography might look something like: challenging extract structured biographical data John Smith text without reading text getting information hand. Instead, can use get_bio() function biographR package, calls ChatGPT’s API extract data us. can also customize output using prompt_fields_format prompt_fields_values arguments. Additionally, package defaults ChatGPT 3.5, ChatGPT 4 often appears perform somewhat better extracting subtler information (e.g., gender pronouns).","code":"John Smith graduated from Nowhere College with a B.A. in 1962.  He then went on to receive a Ph.D. from Nonexistent University.  At the same time, his wife, Sally Smith, was earning her M.D. from Invisible University. library(biographR) get_bio(bio = \"John Smith graduated from Nowhere College with a B.A. in 1962. He then went on to receive a Ph.D. from Nonexistent University. At the same time, his wife, Sally Smith, was earning her M.D. from Invisible University.\",          bio_name = \"John Smith\",          prompt_fields = c(\"college\", \"graduate_school\",                            \"highest_level_of_education\", \"gender\",                           \"married\")) #> # A tibble: 1 × 5 #>   college         graduate_school          highest_level_of_edu…¹ gender married #>   <chr>           <chr>                    <chr>                  <chr>  <chr>   #> 1 Nowhere College Nonexistent University;… Ph.D.                  \"\"     Sally … #> # ℹ abbreviated name: ¹​highest_level_of_education get_bio(bio = \"John Smith graduated from Nowhere College with a B.A. in 1962. He then went on to receive a Ph.D. from Nonexistent University. At the same time, his wife, Sally Smith, was earning her M.D. from Invisible University.\",          bio_name = \"John Smith\",          prompt_fields = c(\"college\", \"graduate_school\",                            \"highest_level_of_education\", \"gender\",                           \"married\"),          prompt_fields_format = list(college = \"{SCHOOL} - {DEGREE}\",                                      graduate_school = \"{SCHOOL} - {DEGREE}\",                                      highest_level_of_education = \"{DEGREE}\"),          prompt_fields_values = list(married = c(\"Yes\", \"No\")),          openai_model = \"gpt-4\") #> # A tibble: 1 × 5 #>   college                graduate_school   highest_level_of_edu…¹ gender married #>   <chr>                  <chr>             <chr>                  <chr>  <chr>   #> 1 Nowhere College - B.A. Nonexistent Univ… Ph.D.                  Male   Yes     #> # ℹ abbreviated name: ¹​highest_level_of_education"},{"path":"https://samuelfrederick.github.io/biographR/reference/biographR-package.html","id":null,"dir":"Reference","previous_headings":"","what":"biographR: Extract Biographical Data From Unstructured Text — biographR-package","title":"biographR: Extract Biographical Data From Unstructured Text — biographR-package","text":"package uses ChatGPT process unstructured biographical information return data structured format desired fields.","code":""},{"path":[]},{"path":"https://samuelfrederick.github.io/biographR/reference/biographR-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"biographR: Extract Biographical Data From Unstructured Text — biographR-package","text":"Maintainer: Samuel Frederick sdf2128@columbia.edu (ORCID)","code":""},{"path":"https://samuelfrederick.github.io/biographR/reference/clean_columns.html","id":null,"dir":"Reference","previous_headings":"","what":"Clean a series of columns using ChatGPT by mapping data into new categories and formats — clean_columns","title":"Clean a series of columns using ChatGPT by mapping data into new categories and formats — clean_columns","text":"Maps old data names column_values new categories formats using ChatGPT. clean_columns() returns data new columns corresponding mapped values. can helpful processing messy unstructured text data column (e.g., open-ended survey responses, names, etc.). clean_columns() particularly helpful post-processing output get_bio().","code":""},{"path":"https://samuelfrederick.github.io/biographR/reference/clean_columns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clean a series of columns using ChatGPT by mapping data into new categories and formats — clean_columns","text":"","code":"clean_columns(   data,   column_values,   column_formats,   openai_api_key = NULL,   openai_model = \"gpt-3.5-turbo\",   openai_temperature = 0 )"},{"path":"https://samuelfrederick.github.io/biographR/reference/clean_columns.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clean a series of columns using ChatGPT by mapping data into new categories and formats — clean_columns","text":"data data processed column_values named list column names data names values vectors desired categories corresponding column column_formats named list column names data names values strings desired format corresponding column openai_api_key API key OpenAI, string. NULL, clean_columns() searches .Renviron API key. openai_model ChatGPT model use, defaults \"chatgpt-3.5-turbo\" openai_temperature Specifies amount randomness ChatGPT, number 0 2 randomness higher numbers, defaults 0","code":""},{"path":"https://samuelfrederick.github.io/biographR/reference/clean_columns.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clean a series of columns using ChatGPT by mapping data into new categories and formats — clean_columns","text":"Data new columns entry column_values containing new mappings","code":""},{"path":"https://samuelfrederick.github.io/biographR/reference/clean_columns.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clean a series of columns using ChatGPT by mapping data into new categories and formats — clean_columns","text":"","code":"df <- data.frame(age = rnorm(4, 50, 10),                  education = c(\"BA\", \"B.A.\", \"High School\", \"MBA\"),                  name = c(\"Wardell Stephen Curry II\", \"Michael J Jordan\",                  \"James, LEBRON\", \"Shaq\")) clean_columns(data = df,               column_values = list(education = c(\"High School\", \"College\",                                                  \"Graduate School\"),                                    name = c(\"Steph Curry\", \"Michael Jordan\",                                             \"LeBron James\", \"Shaquille O'Neal\"))) #> # A tibble: 4 × 5 #>     age education   name                     education_gpt   name_gpt         #>   <dbl> <chr>       <chr>                    <chr>           <chr>            #> 1  59.1 BA          Wardell Stephen Curry II College         Steph Curry      #> 2  45.7 B.A.        Michael J Jordan         College         Michael Jordan   #> 3  50.5 High School James, LEBRON            High School     LeBron James     #> 4  46.5 MBA         Shaq                     Graduate School Shaquille O'Neal  clean_columns(data = data.frame(birthday = c(\"08-13-1923\",                                              \"05/15/1976\",                                              \"March 13, 1998\",                                              \"19th of March in 1994\")),               column_formats = list(birthday = \"{MM}/{DD}/{YYYY}\")) #> # A tibble: 4 × 2 #>   birthday              birthday_gpt #>   <chr>                 <chr>        #> 1 08-13-1923            08/13/1923   #> 2 05/15/1976            05/15/1976   #> 3 March 13, 1998        03/13/1998   #> 4 19th of March in 1994 03/19/1994"},{"path":"https://samuelfrederick.github.io/biographR/reference/get_bio.html","id":null,"dir":"Reference","previous_headings":"","what":"Get structured biographical data from unstructured text — get_bio","title":"Get structured biographical data from unstructured text — get_bio","text":"Get structured biographical data unstructured text","code":""},{"path":"https://samuelfrederick.github.io/biographR/reference/get_bio.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get structured biographical data from unstructured text — get_bio","text":"","code":"get_bio(   bio,   bio_name = NULL,   openai_api_key = NULL,   openai_model = \"gpt-3.5-turbo\",   openai_temperature = 0,   prompt = NULL,   prompt_fields = NULL,   prompt_fields_format = NULL,   prompt_fields_values = NULL,   post_process_fields = FALSE )"},{"path":"https://samuelfrederick.github.io/biographR/reference/get_bio.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get structured biographical data from unstructured text — get_bio","text":"bio bio processed, string bio_name name individual whose biographical information desired, string openai_api_key API key OpenAI, string. NULL, get_bio() searches .Renviron API key. openai_model ChatGPT model use, defaults \"chatgpt-3.5-turbo\" openai_temperature Specifies amount randomness ChatGPT, number 0 2 randomness higher numbers, defaults 0 prompt desired, input custom prompt. overrides default prompt include desired prompt fields, formats, values. prompt_fields character vector desired biographical output fields (e.g., \"college\", \"graduate_school\") prompt_fields_format named list character vector desired formats output fields (e.g., \"{SCHOOL} - {YEAR} - {DEGREE}\"). character vector, must length prompt_fields unformatted fields taking value NA. Names must present prompt_fields. prompt_fields_values list character vectors desired output values prompt field, must length prompt_fields unnamed. Named lists length prompt_fields, names must present prompt_fields. post_process_fields TRUE FALSE, defaults FALSE. get_bio() use ChatGPT map outputted values field specified values?","code":""},{"path":"https://samuelfrederick.github.io/biographR/reference/get_bio.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get structured biographical data from unstructured text — get_bio","text":"tibble containing desired biographical information unprocessed API output custom prompt","code":""},{"path":"https://samuelfrederick.github.io/biographR/reference/get_bio.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get structured biographical data from unstructured text — get_bio","text":"","code":"get_bio(bio = \"MCCARTHY, KEVIN, a Representative from California;               born in Bakersfield, Kern County, Calif., January 26,               1965; graduated from Bakersfield High School,               Bakersfield, Calif., 1983; attended Bakersfield College,               Bakersfield. Calif., 1983-1986; B.S., California State               University, Bakersfield, Calif., 1989; M.B.A., California              State University, Bakersfield, Calif., 1994; staff,              United States Representative William Thomas of California,              1987-2002; member of the California state assembly,              2002-2007, minority leader, 2004-2006; elected as a              Republican to the One Hundred Tenth and to the eight              succeeding Congresses (January 3, 2007-present); majority              whip (One Hundred Twelfth and One Hundred Thirteenth              Congresses); majority leader (One Hundred Thirteenth              through One Hundred Fifteenth Congresses); minority              leader (One Hundred Sixteenth and One Hundred Seventeenth              Congress); Speaker of the House (One Hundred Eighteenth              Congress).\",       bio_name = \"Kevin McCarthy\") #> # A tibble: 1 × 10 #>   birth_date highest_level_of_educ…¹ college graduate_school previous_occupation #>   <chr>      <chr>                   <chr>   <chr>           <chr>               #> 1 01/26/1965 M.B.A.                  Califo… California Sta… staff, United Stat… #> # ℹ abbreviated name: ¹​highest_level_of_education #> # ℹ 5 more variables: gender <chr>, town_of_birth <chr>, state_of_birth <chr>, #> #   married <chr>, number_of_children <chr>"},{"path":"https://samuelfrederick.github.io/biographR/news/index.html","id":"biographr-development-version","dir":"Changelog","previous_headings":"","what":"biographR (development version)","title":"biographR (development version)","text":"Initial Github package.","code":""},{"path":"https://samuelfrederick.github.io/biographR/news/index.html","id":"biographr-0009001","dir":"Changelog","previous_headings":"","what":"biographR 0.0.0.9001","title":"biographR 0.0.0.9001","text":"Added function clean_columns() post-process output get_bio() using ChatGPT Updated vignette get_bio() function","code":""}]
